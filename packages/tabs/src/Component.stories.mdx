import { Meta, Story, Props, Preview } from '@storybook/addon-docs/blocks';
import { boolean, select } from '@storybook/addon-knobs';
import { ComponentHeader } from 'storybook/blocks/component-header';
import Icon from '@alfalab/icons-glyph/StarMIcon';

import { Tab, TabsDesktop, PrimaryTabListDesktop, SecondaryTabListDesktop } from './desktop';
import { TabsMobile, PrimaryTabListMobile, SecondaryTabListMobile } from './mobile';
import { TabsResponsive } from './responsive';

import { name, version } from '../package.json';

export const titles = Array(7).fill(0).map((_, i) => ({ title: `Таб ${i + 1}`, id: i + 1 }));


<Meta
    title='Компоненты|Tabs'
    parameters={{ 'theme-switcher': { themes: ['click', 'site'] } }}
/>


<!-- Canvas -->

<Story name='TabsDesktop'>
    {React.createElement(() => {
        const [selectedId, setSelectedId] = React.useState('tab-1');
        const handleChange = (event, { selectedId }) => setSelectedId(selectedId);
        return (
            <TabsDesktop
                view={select('view', ['primary', 'secondary'], 'primary')}
                selectedId={selectedId}
                keepMounted={boolean('keepMounted')}
                onChange={handleChange}
                scrollable={boolean('scrollable', false)}
                size={select('size', ['s', 'm', 'l'], 'm')}
            >
                <Tab title='Таб 1' id='tab-1'>
                    Таб 1
                </Tab>
                <Tab title='Таб 2' id='tab-2'>
                    Таб 2
                </Tab>
                <Tab title='Таб 3' id='tab-3'>
                    Таб 3
                </Tab>
                <Tab title='Таб 4' id='tab-4'>
                    Таб 4
                </Tab>
                <Tab title='Таб 5' id='tab-5'>
                    Таб 5
                </Tab>
            </TabsDesktop>
        );
    })}
</Story>

<Story name='TabsMobile'>
    {React.createElement(() => {
        const [selectedId, setSelectedId] = React.useState('tab-1');
        const handleChange = (event, { selectedId }) => setSelectedId(selectedId);
        return (
            <TabsMobile
                view={select('view', ['primary', 'secondary'], 'primary')}
                selectedId={selectedId}
                keepMounted={boolean('keepMounted')}
                onChange={handleChange}
                scrollable={boolean('scrollable', false)}
            >
                <Tab title='Таб 1' id='tab-1'>
                    Таб 1
                </Tab>
                <Tab title='Таб 2' id='tab-2'>
                    Таб 2
                </Tab>
                <Tab title='Таб 3' id='tab-3'>
                    Таб 3
                </Tab>
                <Tab title='Таб 4' id='tab-4'>
                    Таб 4
                </Tab>
                <Tab title='Таб 5' id='tab-5'>
                    Таб 5
                </Tab>
            </TabsMobile>
        );
    })}
</Story>

<Story name='TabsResponsive'>
    {React.createElement(() => {
        const [selectedId, setSelectedId] = React.useState('tab-1');
        const handleChange = (event, { selectedId }) => setSelectedId(selectedId);
        return (
            <TabsResponsive
                view={select('view', ['primary', 'secondary'], 'primary')}
                size={select('size', ['s', 'm', 'l'], 'm')}
                selectedId={selectedId}
                keepMounted={boolean('keepMounted')}
                onChange={handleChange}
                scrollable={boolean('scrollable', false)}
            >
                <Tab title='Таб 1' id='tab-1'>
                    Таб 1
                </Tab>
                <Tab title='Таб 2' id='tab-2'>
                    Таб 2
                </Tab>
                <Tab title='Таб 3' id='tab-3'>
                    Таб 3
                </Tab>
                <Tab title='Таб 4' id='tab-4'>
                    Таб 4
                </Tab>
                <Tab title='Таб 5' id='tab-5'>
                    Таб 5
                </Tab>
            </TabsResponsive>
        );
    })}
</Story>


<!-- Docs -->

<ComponentHeader
    name='Tabs'
    version={version}
    package='@alfalab/core-components-tabs'
    stage={2}
/>

```tsx
// Импорт адаптивных табов
import { TabsResponsive, Tab } from '@alfalab/core-components-tabs';
import { TabsResponsive, Tab } from '@alfalab/core-components-tabs/responsive';
// Импорт только десктопных табов
import { TabsDesktop, Tab } from '@alfalab/core-components-tabs/desktop';
// Импорт только мобильных табов
import { TabsMobile, Tab } from '@alfalab/core-components-tabs/mobile';
```

Компоненты для построения табов.

### TabsDesktop

<Preview>
    {React.createElement(() => {
        const [selectedId, setSelectedId] = React.useState('tab-1');
        const handleChange = (event, { selectedId }) => setSelectedId(selectedId);
        return (
            <TabsDesktop
                view={select('view', ['primary', 'secondary'], 'primary')}
                selectedId={selectedId}
                keepMounted={boolean('keepMounted')}
                onChange={handleChange}
                scrollable={boolean('scrollable', false)}
                size={select('size', ['s', 'm', 'l'], 'm')}
            >
                <Tab title='Таб 1' id='tab-1'>
                    Таб 1
                </Tab>
                <Tab title='Таб 2' id='tab-2'>
                    Таб 2
                </Tab>
                <Tab title='Таб 3' id='tab-3'>
                    Таб 3
                </Tab>
                <Tab title='Таб 4' id='tab-4'>
                    Таб 4
                </Tab>
                <Tab title='Таб 5' id='tab-5'>
                    Таб 5
                </Tab>
            </TabsDesktop>
        );
    })}
</Preview>

### TabsMobile

<Preview>
    {React.createElement(() => {
        const [selectedId, setSelectedId] = React.useState('tab-1');
        const handleChange = (event, { selectedId }) => setSelectedId(selectedId);
        return (
            <TabsMobile
                view={select('view', ['primary', 'secondary'], 'primary')}
                selectedId={selectedId}
                keepMounted={boolean('keepMounted')}
                onChange={handleChange}
                scrollable={boolean('scrollable', false)}
            >
                <Tab title='Таб 1' id='tab-1'>
                    Таб 1
                </Tab>
                <Tab title='Таб 2' id='tab-2'>
                    Таб 2
                </Tab>
                <Tab title='Таб 3' id='tab-3'>
                    Таб 3
                </Tab>
                <Tab title='Таб 4' id='tab-4'>
                    Таб 4
                </Tab>
                <Tab title='Таб 5' id='tab-5'>
                    Таб 5
                </Tab>
            </TabsMobile>
        );
    })}
</Preview>

### TabsResponsive

Адаптивная версия табов, перестраивается при 768px

<Preview>
    {React.createElement(() => {
        const [selectedId, setSelectedId] = React.useState('tab-1');
        const handleChange = (event, { selectedId }) => setSelectedId(selectedId);
        return (
            <TabsResponsive
                view={select('view', ['primary', 'secondary'], 'primary')}
                size={select('size', ['s', 'm', 'l'], 'm')}
                selectedId={selectedId}
                keepMounted={boolean('keepMounted')}
                onChange={handleChange}
                scrollable={boolean('scrollable', false)}
            >
                <Tab title='Таб 1' id='tab-1'>
                    Таб 1
                </Tab>
                <Tab title='Таб 2' id='tab-2'>
                    Таб 2
                </Tab>
                <Tab title='Таб 3' id='tab-3'>
                    Таб 3
                </Tab>
                <Tab title='Таб 4' id='tab-4'>
                    Таб 4
                </Tab>
                <Tab title='Таб 5' id='tab-5'>
                    Таб 5
                </Tab>
            </TabsResponsive>
        );
    })}
</Preview>

### Табы со слотом справа

В заголовки табов можно добавлять дополнительные элементы с помощью свойства `rightAddons`

<Preview>
    {React.createElement(() => {
        const [selectedId, setSelectedId] = React.useState('tab-1');
        const handleChange = (event, { selectedId }) => setSelectedId(selectedId);
        return (
            <TabsDesktop
                selectedId={selectedId}
                onChange={handleChange}
            >
                <Tab title='Таб 1' id='tab-1' rightAddons={<Icon/>}>
                    Таб 1
                </Tab>
                <Tab title='Таб 2' id='tab-2' rightAddons={<Icon/>}>
                    Таб 2
                </Tab>
                <Tab title='Таб 3' id='tab-3' rightAddons={<Icon/>}>
                    Таб 3
                </Tab>
            </TabsDesktop>
        );
    })}
</Preview>


<Props components={{
    TabsDesktop,
    TabsMobile,
    TabsResponsive
}} />
