import { Meta, Story, Props } from '@storybook/addon-docs/blocks';
import { ComponentHeader, Tabs, CssVars } from 'storybook/blocks';
import { Button } from '@alfalab/core-components-button';

import { Gallery } from '..';
import { name, version } from '../../package.json';
import Description from './description.mdx';
import Changelog from '../../CHANGELOG.md';
import styles from '!!raw-loader!../vars.css';

<Meta
    title='Компоненты/Gallery'
    component={Gallery}
/>

<!-- Canvas -->

<Story name='Gallery'>
    {React.createElement(() => {
        const [open, setOpen] = React.useState(false);
        return (
            <div style={{ width: '100%', height: 'calc(100vh - 50px)'}}>
                <Button view="primary" onClick={() => { setOpen(true) }}>Открыть галерею</Button>
                <Gallery
                    open={open}
                    onClose={() => {
                        setOpen(false);
                    }}
                    images={[
                        {
                            name: 'Горизонтальное изображение.jpg',
                            src: 'https://unsplash.com/photos/ywiAen4L4qA/download?force=true'
                        },
                        {
                            name: 'Вертикальное изображение.jpg',
                            src: 'https://unsplash.com/photos/J3WbMATCz8I/download?force=true'
                        },
                        {
                            name: 'Маленькое изображение.jpg',
                            src: 'https://picsum.photos/100/100'
                        },
                        {
                            name: 'Битое изображение.jpg',
                            src: 'https://picsum.photos'
                        },
                        {
                            name: 'Изображение с прозрачностью.png',
                            src: 'https://clipart-best.com/img/bush/bush-clip-art-22.png'
                        }
                    ]}
                />
            </div>
        )
    })}
</Story>

<!-- Docs -->

<ComponentHeader
    name='Gallery'
    version={version}
    stage={2}
    design="https://www.figma.com/file/KlFOLLkKO8rtvvQE3RXuhq/Click-Library?node-id=29677%3A159383"
/>

```tsx
import { Gallery } from '@alfalab/core-components/gallery';
```

<Tabs
    description={<Description />}
    changelog={<Changelog />}
    props={<Props of={Gallery} />}
    cssVars={<CssVars css={styles} />}
/>
